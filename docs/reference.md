reference code from https://github.com/decodeless/mappedfile
